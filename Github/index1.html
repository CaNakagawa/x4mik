<!DOCTYPE html>
<html lang="pt">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Nakagawa</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"/>
  <style>
    /* General Reset */
    *{margin:0;padding:0;box-sizing:border-box}
    html,body{height:100%;font-family:'Roboto',sans-serif;transition:background-color .3s,color .3s;padding-top:110px}
    body.dark{background-color:#121212;color:#ffffff}
    body.light{background-color:#f4f4f4;color:#121212}

    /* Navigation */
    nav{position:fixed;top:0;left:0;width:100%;background:rgba(0,0,0,.85);padding:1rem;display:flex;justify-content:space-between;align-items:center;z-index:10;box-shadow:0 4px 6px rgba(0,0,0,.3)}
    nav .logo{font-size:1.5rem;font-weight:700;color:#0f0;text-transform:uppercase}
    nav ul{list-style:none;display:flex;gap:1.5rem}
    nav ul li a{text-decoration:none;color:#fff;font-size:1rem;transition:color .3s,transform .2s}
    nav ul li a:hover{color:#0f0;transform:scale(1.1)}
    .language-switcher{display:flex;align-items:center;gap:10px}
    .language-switcher img{width:30px;height:20px;cursor:pointer;border-radius:3px;transition:transform .3s,box-shadow .3s}
    .language-switcher img:hover{transform:scale(1.2);box-shadow:0 0 10px #0f0}

    /* User Info Bar */
    #userInfoBar{position:fixed;top:60px;left:0;width:100%;background:#222;color:#fff;font-size:.9rem;padding:.8rem 1rem;z-index:9;display:flex;flex-wrap:wrap;gap:10px;overflow-x:auto;white-space:nowrap;box-shadow:0 2px 6px rgba(0,0,0,.3);border-bottom:2px solid #0f0}
    #userInfoBar span{display:inline-block;padding:.3rem .5rem;background:rgba(255,255,255,.1);border-radius:5px;color:#0f0;font-weight:700}
    #userInfoBar strong{color:#fff}

    /* Sections */
    section{display:none;height:calc(100vh - 110px);padding:2rem;overflow:auto;animation:fadeIn .5s ease-in-out}
    section.visible{display:block}
    @keyframes fadeIn{from{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}

    /* Tools Section */
    .tools-container{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:1.5rem}
    .tool-option{cursor:pointer;padding:1rem;border:1px solid #0f0;border-radius:8px;text-align:center;background:rgba(0,0,0,.1);transition:background-color .3s,transform .3s}
    .tool-option:hover{background-color:#0f0;color:#000;transform:translateY(-5px)}
    #toolContent{padding:1rem;border:1px solid #888;border-radius:8px;background-color:rgba(0,0,0,.1);margin-top:1rem}
    #toolContent textarea,#toolContent input,#toolContent select,#toolContent button{margin:10px 0;display:block;width:100%;max-width:700px;padding:10px;font-size:1rem}
    #toolContent .row{display:flex;flex-wrap:wrap;gap:10px;align-items:center}
    #toolContent .row > *{flex:1 1 auto;min-width:160px}
    button{cursor:pointer;background:#4caf50;color:#fff;border:none;border-radius:5px;transition:background .3s}
    button:hover{background:#45a049}

    /* Password strength meter */
    .meter{height:10px;border-radius:5px;background:#444;overflow:hidden;max-width:700px}
    .meter > span{display:block;height:100%;width:0;background:#f44336;transition:width .3s,background .3s}
    .hint{font-size:.95rem;opacity:.9}

    /* Footer */
    footer{background:rgba(0,0,0,.9);color:#fff;text-align:center;padding:1rem;position:fixed;bottom:0;width:100%;display:flex;justify-content:space-between;align-items:center}
    footer .social-links a{color:#0f0;margin:0 .5rem;text-decoration:none;font-size:1.2rem}
    footer .social-links a:hover{color:#fff}
    footer .back-to-top{color:#0f0;text-decoration:none;font-size:1rem}
    footer .back-to-top:hover{text-decoration:underline}

    /* === CV: Timeline moderna === */
    #cv .cv-header{display:flex;flex-wrap:wrap;gap:1rem;align-items:center;margin:.5rem 0 1.25rem;}
    #cv .cv-card{
      border:1px solid #2a2a2a; border-radius:10px; padding:1rem;
      background:rgba(255,255,255,0.04); backdrop-filter:blur(2px); margin:.75rem 0;
    }
    #cv .cv-grid{
      display:grid; gap:1rem; grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
      margin-top: .5rem;
    }
    #cv .cv-timeline{ position:relative; margin:1rem 0 1.5rem; padding-left:22px; }
    #cv .cv-timeline::before{
      content:""; position:absolute; left:10px; top:0; bottom:0;
      width:2px; background:linear-gradient(#0f0,#0f0) no-repeat;
      background-size:2px 100%; opacity:.35;
    }
    #cv .cv-item{ position:relative; margin:1rem 0; }
    #cv .cv-dot{
      position:absolute; left:-1px; top:.6rem; width:14px; height:14px; border-radius:50%;
      background:#0f0; box-shadow:0 0 0 4px rgba(0,255,0,.15), 0 0 12px rgba(0,255,0,.35);
    }
    #cv .cv-content{
      border:1px solid #2a2a2a; border-radius:10px; padding:1rem 1rem 0.75rem;
      background:rgba(255,255,255,0.03);
    }
    #cv .cv-content header{display:flex;flex-direction:column;gap:.25rem;margin-bottom:.5rem}
    #cv .cv-content h4{margin:0}
    #cv .cv-meta{opacity:.8;font-size:.95rem}
    #cv .cv-tags{margin:.5rem 0 .25rem; opacity:.9; font-size:.95rem; color:#0f0}
    #cv ul{padding-left:1.1rem}
    #cv ul.two-cols{
      display:grid; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
      gap:.35rem 1rem; padding-left:1rem;
    }
    #cv .btn-download{
      display:inline-block; padding:.6rem .9rem; background:#0f0; color:#000; border-radius:.5rem;
      text-decoration:none; font-weight:700; transition:transform .15s ease, filter .2s ease;
    }
    #cv .btn-download:hover{ transform: translateY(-2px); filter: brightness(.95); }
    #cv .reveal{ opacity:0; transform: translateY(12px); transition: all .5s ease; }
    #cv .reveal.revealed{ opacity:1; transform: translateY(0); }

        /* ===== Certificações com ícones (horizontal) ===== */
    #cv .cert-strip{
    display:flex; gap:12px; flex-wrap:wrap; align-items:stretch; margin-top:.5rem;
    }
    #cv .cert-vendor{
    display:flex; gap:10px; align-items:flex-start;
    flex:1 1 300px; min-width:260px;
    border:1px solid #2a2a2a; border-radius:10px; padding:12px;
    background:rgba(255,255,255,0.03);
    }
    #cv .cert-vendor img{
    width:28px; height:28px; object-fit:contain;
    filter: drop-shadow(0 0 2px rgba(0,0,0,.35));
    }
    #cv .cert-vendor h5{ margin:0 0 .35rem; font-size:1rem; }
    #cv .cert-list{ margin:0; padding-left:1rem; }
    #cv .cert-list li{ margin:.15rem 0; }

    /* ===== Experiência: layout refinado ===== */
    #cv .cv-content header{
    display:flex; justify-content:space-between; align-items:flex-start; gap:1rem;
    margin-bottom:.5rem;
    }
    #cv .role{ font-weight:700; }
    #cv .company{ opacity:.95; }
    #cv .cv-bullets li{ margin:.25rem 0; }
    #cv .tag{
    display:inline-block; padding:.2rem .55rem; border-radius:999px;
    background:#0f0; color:#000; font-size:.85rem; margin:.2rem .25rem 0 0;
    }

    @media (max-width:760px){
      nav ul{gap:1rem}
    }
  </style>
</head>
<body class="dark">

  <!-- Navigation Bar -->
  <nav>
    <div class="logo">NAKA</div>
    <ul>
      <li><a href="#" data-section="about">Sobre Mim</a></li>
      <li><a href="#" data-section="cv">Currículo</a></li>
      <li><a href="#" data-section="blog">Blog</a></li>
      <li><a href="#" data-section="projects">Projetos</a></li>
      <li><a href="#" data-section="tools">Ferramentas</a></li>
      <li><a href="#" data-section="contact">Contato</a></li>
    </ul>
    <div class="language-switcher" title="Mudar idioma">
      <img src="https://upload.wikimedia.org/wikipedia/commons/0/05/Flag_of_Brazil.svg" alt="Português" data-lang="pt">
      <img src="https://upload.wikimedia.org/wikipedia/en/a/a4/Flag_of_the_United_States.svg" alt="English" data-lang="en">
      <img src="https://upload.wikimedia.org/wikipedia/en/b/ba/Flag_of_Germany.svg" alt="Deutsch" data-lang="de">
    </div>
  </nav>

  <!-- User Info Bar -->
  <div id="userInfoBar">Carregando informações do usuário...</div>

  <!-- Sections -->
  <section id="about" class="visible">
    <h1>Sobre Mim</h1>
    <p>Bem-vindo ao meu site pessoal! Aqui você encontrará informações sobre minha carreira, projetos e interesses.</p>
  </section>

  <!-- CV renderizado via JS conforme idioma -->
  <section id="cv"></section>

  <section id="blog">
    <h2>Blog</h2>
    <p>Leia meus artigos sobre tecnologia, desenvolvimento pessoal e outros tópicos que me interessam.</p>
  </section>

  <section id="projects">
    <h2>Projetos</h2>
    <p>Aqui estão alguns dos projetos que trabalhei, com links para repositórios e demonstrações.</p>
  </section>

  <section id="tools">
    <h2>Ferramentas</h2>
    <div class="tools-container">
      <div class="tool-option" data-tool="hashGenerator">Hash Generator</div>
      <div class="tool-option" data-tool="passwordGenerator">Password Generator</div>
      <div class="tool-option" data-tool="passwordStrengthChecker">Password Strength Checker</div>
      <div class="tool-option" data-tool="doubleClickTester">Keyboard Double Click Tester</div>
      <div class="tool-option" data-tool="steganographyTool">Steganography Tool</div>
      <!-- NOVO: Base64 -->
      <div class="tool-option" data-tool="base64Tool">Base64 Encode / Decode</div>
    </div>
    <div id="toolContent">Selecione uma ferramenta acima para ver os detalhes.</div>
  </section>

  <section id="contact">
    <h2>Contato</h2>
    <p>Entre em contato comigo por e-mail ou através das minhas redes sociais. Ficarei feliz em conversar!</p>
  </section>

  <footer>
    <div class="social-links">
      <a href="#" aria-label="Twitter"><i class="fab fa-twitter"></i></a>
      <a href="https://www.linkedin.com/in/cassio-nakagawa/" aria-label="LinkedIn"><i class="fab fa-linkedin"></i></a>
      <a href="#" aria-label="GitHub"><i class="fab fa-github"></i></a>
    </div>
    <a href="#top" class="back-to-top">Voltar ao topo</a>
  </footer>

  <!-- CryptoJS para hashes -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js" defer></script>

  <script>
  document.addEventListener("DOMContentLoaded", () => {
    /* --------- User Info Bar --------- */
    async function loadUserInfoBar(){
      const el = document.getElementById("userInfoBar");
      const ua = navigator.userAgent || "N/A";
      const platform = navigator.platform || "N/A";
      const lang = navigator.language || "N/A";
      const cookies = navigator.cookieEnabled ? "Yes" : "No";
      const sw = screen.width || "?";
      const sh = screen.height || "?";
      const depth = screen.colorDepth || "?";
      const tz = Intl.DateTimeFormat().resolvedOptions().timeZone || "Unknown";
      const online = navigator.onLine ? "Online" : "Offline";
      let ip = "Fetching...";
      try{
        const r = await fetch("https://api.ipify.org?format=json");
        const j = await r.json(); ip = j.ip || "Unavailable";
      }catch{ ip = "Unable to fetch IP"; }
      el.innerHTML = `
        <span><strong>User Agent:</strong> ${ua}</span>
        <span><strong>Platform:</strong> ${platform}</span>
        <span><strong>Language:</strong> ${lang}</span>
        <span><strong>Cookies:</strong> ${cookies}</span>
        <span><strong>Resolution:</strong> ${sw}x${sh}</span>
        <span><strong>Color Depth:</strong> ${depth} bits</span>
        <span><strong>Time Zone:</strong> ${tz}</span>
        <span><strong>Online:</strong> ${online}</span>
        <span><strong>IP:</strong> ${ip}</span>
      `;
    }
    loadUserInfoBar();

    /* --------- Navegação --------- */
    document.querySelectorAll("nav ul li a").forEach(link=>{
      link.addEventListener("click",(e)=>{
        e.preventDefault();
        document.querySelectorAll("section").forEach(s=>s.classList.remove("visible"));
        const id = link.getAttribute("data-section");
        document.getElementById(id)?.classList.add("visible");
      });
    });

    /* --------- Traduções base (UI) --------- */
    const ui = {
      pt:{about:"Sobre Mim", cv:"Currículo", blog:"Blog", projects:"Projetos", tools:"Ferramentas", contact:"Contato",
          aboutContent:"Bem-vindo ao meu site pessoal! Aqui você encontrará informações sobre minha carreira, projetos e interesses.",
          blogContent:"Leia meus artigos sobre tecnologia, desenvolvimento pessoal e outros tópicos que me interessam.",
          projectsContent:"Aqui estão alguns dos projetos que trabalhei, com links para repositórios e demonstrações.",
          toolsContent:"Selecione uma ferramenta acima para ver os detalhes.",
          downloadCV:"📄 Baixar CV (PDF)",
          professionalSummary:"Resumo Profissional",
          experience:"Experiência",
          education:"Formação",
          certifications:"Certificações",
          byVendor:"por fornecedor",
          skills:"Competências Técnicas",
          languages:"Idiomas",
          cityLine:"Londrina, PR — Brasil",
          contactText:"Entre em contato comigo por e-mail ou através das minhas redes sociais. Ficarei feliz em conversar!"
      },
      en:{about:"About Me", cv:"Resume", blog:"Blog", projects:"Projects", tools:"Tools", contact:"Contact",
          aboutContent:"Welcome to my personal website! Here you'll find information about my career, projects, and interests.",
          blogContent:"Read my articles on technology, personal development, and other topics of interest.",
          projectsContent:"Here are some of the projects I've worked on, with links to repositories and demos.",
          toolsContent:"Select a tool above to view its details.",
          downloadCV:"📄 Download CV (PDF)",
          professionalSummary:"Professional Summary",
          experience:"Experience",
          education:"Education",
          certifications:"Certifications",
          byVendor:"by vendor",
          skills:"Technical Skills",
          languages:"Languages",
          cityLine:"Londrina, PR — Brazil",
          contactText:"Get in touch via email or through my social media. I'd love to hear from you!"
      },
      de:{about:"Über mich", cv:"Lebenslauf", blog:"Blog", projects:"Projekte", tools:"Werkzeuge", contact:"Kontakt",
          aboutContent:"Willkommen auf meiner persönlichen Website! Hier finden Sie Informationen über meine Karriere, Projekte und Interessen.",
          blogContent:"Lesen Sie meine Artikel über Technologie, persönliche Entwicklung und andere interessante Themen.",
          projectsContent:"Hier sind einige der Projekte, an denen ich gearbeitet habe, mit Links zu Repositories und Demos.",
          toolsContent:"Wählen Sie oben ein Werkzeug aus, um die Details anzuzeigen.",
          downloadCV:"📄 Lebenslauf (PDF) herunterladen",
          professionalSummary:"Berufliche Zusammenfassung",
          experience:"Berufserfahrung",
          education:"Ausbildung",
          certifications:"Zertifizierungen",
          byVendor:"nach Anbieter",
          skills:"Technische Kompetenzen",
          languages:"Sprachen",
          cityLine:"Londrina, PR — Brasilien",
          contactText:"Kontaktieren Sie mich per E-Mail oder über meine sozialen Medien. Ich freue mich auf Ihre Nachricht!"
      }
    };

    /* --------- Dados do CV (3 idiomas) --------- */
    const cvData = {
      pt:{
        name:"Cassio Nakagawa",
        email:"cassio.nakagawa@gmail.com",
        phone:"+55 11 97168-4214",
        summary:"Profissional com 14 anos em TI/Segurança: gestão, governança, SOC L1/L2 (Sentinel, Splunk, QRadar, Defender, CrowdStrike), resposta a incidentes, processos e automações. Redução de MTTA/MTTR, diminuição de vulnerabilidades críticas e implementação de SOC (regras, integrações, documentação).",
        experiences:[
          { company:"TCS", role:"Senior Information Security Consultant", period:"Abr/2025 – Atual", location:"Londrina/PR (Híbrido)",
            bullets:[
              "Atuação L1/L2 em SOC: triagem e investigação de alertas (Splunk, Defender, XDR).",
              "Melhoria contínua de regras, processos e treinamento de usuários/analistas.",
              "Resposta a ameaças e mitigação de riscos em ambiente corporativo."
            ],
            tags:["Splunk","Defender","CrowdStrike"] },
          { company:"Capgemini", role:"Senior Information Security Consultant", period:"Abr/2022 – Abr/2025", location:"Barueri/SP",
            bullets:[
              "CSIRT: processos e documentação; análise de malware, phishing e vulnerabilidades.",
              "Planejamento & implementação de SOC (arquitetura, detecção, Threat Intel, automações).",
              "Gestão de resposta a incidentes e suporte a pentests (escopo, relatórios, recomendações)."
            ],
            tags:["SOC","CSIRT","Threat Intel","Playbooks","Automação","Sentinel"] },
          { company:"Pilz do Brasil", role:"Analista de TI", period:"Abr/2012 – Abr/2022", location:"Indaiatuba/SP",
            bullets:[
              "Gestão de TI: ISO 20000/27001/27002, LGPD, redes, servidores e segurança.",
              "Virtualização (Hyper-V), mobilidade, firewalls e capacitação de usuários.",
              "Awareness Officer e atuação em SOC."
            ],
            tags:["Governança","Redes","Firewalls","Hyper-V","ISO/NIST","LGPD"] }
        ],
        education:["FIAP — Cyber Defense, São Paulo/SP (Concluído Jan/2022)"],
        certifications:{
          "Microsoft":["SC-200","SC-900","AI-900","AZ-900","Defender for Cloud (CSPM) – qualificação"],
          "AWS":["AWS Certified Cloud Practitioner"],
          "Google Cloud":["Professional Cloud Security Engineer","Professional Cloud Network Engineer","Google Workspace Admin (Professional)"],
          "ServiceNow":["CSA","CIS-SIR"],
          "ISC²":["Certified in Cybersecurity (CC)"],
          "FIAP / Academy":["CSPM","Malware & Vulnerability","Cyber Intelligence","Vulnerability & Intrusion Analysis"]
        },
        skills:[
          "<strong>SIEM:</strong> Sentinel, Splunk, QRadar",
          "<strong>EDR/XDR:</strong> CrowdStrike, Defender",
          "<strong>CSPM:</strong> Defender for Cloud",
          "<strong>Firewall:</strong> FortiGate",
          "<strong>Rede:</strong> Cisco/DELL/Extreme",
          "<strong>Virtualização:</strong> Hyper-V",
          "<strong>SO:</strong> Windows, Linux",
          "<strong>Automação:</strong> PowerAutomate, PowerApps, Logic Apps",
          "<strong>Padrões:</strong> ISO 27001/27002, NIST, ISO 20000, ITIL v3, LGPD"
        ],
        languagesText:"Português (nativo), Inglês (C1 – avançado), Alemão (A1 – iniciante)."
      },
      en:{
        name:"Cassio Nakagawa",
        email:"cassio.nakagawa@gmail.com",
        phone:"+55 11 97168-4214",
        summary:"Professional with 14 years in IT/Security: management, governance, SOC L1/L2 (Sentinel, Splunk, QRadar, Defender, CrowdStrike), incident response, processes and automations. Reduced MTTA/MTTR, decreased critical vulnerabilities and implemented SOC (rules, integrations, documentation).",
        experiences:[
          { company:"TCS", role:"Senior Information Security Consultant", period:"Apr/2025 – Present", location:"Londrina/PR (Hybrid)",
            bullets:[
              "SOC L1/L2: triage and investigation of alerts (Splunk, Defender, XDR).",
              "Continuous improvement of rules, processes and user/analyst training.",
              "Threat response and risk mitigation in corporate environments."
            ],
            tags:["Splunk","Defender","CrowdStrike"] },
          { company:"Capgemini", role:"Senior Information Security Consultant", period:"Apr/2022 – Apr/2025", location:"Barueri/SP",
            bullets:[
              "CSIRT: processes and documentation; malware, phishing, and vulnerability analysis.",
              "SOC planning & implementation (architecture, detection, Threat Intel, automations).",
              "Incident response management and pentest support (scope, reports, recommendations)."
            ],
            tags:["SOC","CSIRT","Threat Intel","Playbooks","Automation","Sentinel"] },
          { company:"Pilz do Brasil", role:"IT Analyst", period:"Apr/2012 – Apr/2022", location:"Indaiatuba/SP",
            bullets:[
              "IT management: ISO 20000/27001/27002, LGPD, networks, servers and security.",
              "Virtualization (Hyper-V), mobility, firewalls and user enablement.",
              "Awareness Officer and SOC operations."
            ],
            tags:["Governance","Networks","Firewalls","Hyper-V","ISO/NIST","LGPD"] }
        ],
        education:["FIAP — Cyber Defense, São Paulo/SP (Completed Jan/2022)"],
        certifications:{
          "Microsoft":["SC-200","SC-900","AI-900","AZ-900","Defender for Cloud (CSPM) – qualification"],
          "AWS":["AWS Certified Cloud Practitioner"],
          "Google Cloud":["Professional Cloud Security Engineer","Professional Cloud Network Engineer","Google Workspace Admin (Professional)"],
          "ServiceNow":["CSA","CIS-SIR"],
          "ISC²":["Certified in Cybersecurity (CC)"],
          "FIAP / Academy":["CSPM","Malware & Vulnerability","Cyber Intelligence","Vulnerability & Intrusion Analysis"]
        },
        skills:[
          "<strong>SIEM:</strong> Sentinel, Splunk, QRadar",
          "<strong>EDR/XDR:</strong> CrowdStrike, Defender",
          "<strong>CSPM:</strong> Defender for Cloud",
          "<strong>Firewall:</strong> FortiGate",
          "<strong>Networking:</strong> Cisco/DELL/Extreme",
          "<strong>Virtualization:</strong> Hyper-V",
          "<strong>OS:</strong> Windows, Linux",
          "<strong>Automation:</strong> PowerAutomate, PowerApps, Logic Apps",
          "<strong>Standards:</strong> ISO 27001/27002, NIST, ISO 20000, ITIL v3, LGPD"
        ],
        languagesText:"Brazilian Portuguese (native), English (C1 – advanced), German (A1 – beginner)."
      },
      de:{
        name:"Cassio Nakagawa",
        email:"cassio.nakagawa@gmail.com",
        phone:"+55 11 97168-4214",
        summary:"Fachmann mit 14 Jahren in IT/Sicherheit: Management, Governance, SOC L1/L2 (Sentinel, Splunk, QRadar, Defender, CrowdStrike), Incident Response, Prozesse und Automatisierungen. Reduzierte MTTA/MTTR, verringerte kritische Schwachstellen und implementierte SOC (Regeln, Integrationen, Dokumentation).",
        experiences:[
          { company:"TCS", role:"Senior Information Security Consultant", period:"Apr/2025 – Heute", location:"Londrina/PR (Hybrid)",
            bullets:[
              "SOC L1/L2: Triage und Untersuchung von Alerts (Splunk, Defender, XDR).",
              "Kontinuierliche Verbesserung von Regeln, Prozessen und Schulungen.",
              "Bedrohungsreaktion und Risikominderung in Unternehmensumgebungen."
            ],
            tags:["Splunk","Defender","CrowdStrike"] },
          { company:"Capgemini", role:"Senior Information Security Consultant", period:"Apr/2022 – Apr/2025", location:"Barueri/SP",
            bullets:[
              "CSIRT: Prozesse und Dokumentation; Analyse von Malware, Phishing und Schwachstellen.",
              "Planung & Implementierung eines SOC (Architektur, Erkennung, Threat Intel, Automatisierungen).",
              "Incident-Response-Management und Pentest-Unterstützung (Scope, Berichte, Empfehlungen)."
            ],
            tags:["SOC","CSIRT","Threat Intel","Playbooks","Automation","Sentinel"] },
          { company:"Pilz do Brasil", role:"IT-Analyst", period:"Apr/2012 – Apr/2022", location:"Indaiatuba/SP",
            bullets:[
              "IT-Leitung: ISO 20000/27001/27002, LGPD, Netzwerke, Server und Sicherheit.",
              "Virtualisierung (Hyper-V), Mobilität, Firewalls und Benutzer-Enablement.",
              "Awareness Officer und SOC-Betrieb."
            ],
            tags:["Governance","Netzwerke","Firewalls","Hyper-V","ISO/NIST","LGPD"] }
        ],
        education:["FIAP — Cyber Defense, São Paulo/SP (Abgeschlossen Jan/2022)"],
        certifications:{
          "Microsoft":["SC-200","SC-900","AI-900","AZ-900","Defender for Cloud (CSPM) – Qualifikation"],
          "AWS":["AWS Certified Cloud Practitioner"],
          "Google Cloud":["Professional Cloud Security Engineer","Professional Cloud Network Engineer","Google Workspace Admin (Professional)"],
          "ServiceNow":["CSA","CIS-SIR"],
          "ISC²":["Certified in Cybersecurity (CC)"],
          "FIAP / Academy":["CSPM","Malware & Vulnerability","Cyber Intelligence","Vulnerability & Intrusion Analysis"]
        },
        skills:[
          "<strong>SIEM:</strong> Sentinel, Splunk, QRadar",
          "<strong>EDR/XDR:</strong> CrowdStrike, Defender",
          "<strong>CSPM:</strong> Defender for Cloud",
          "<strong>Firewall:</strong> FortiGate",
          "<strong>Netzwerk:</strong> Cisco/DELL/Extreme",
          "<strong>Virtualisierung:</strong> Hyper-V",
          "<strong>Betriebssysteme:</strong> Windows, Linux",
          "<strong>Automatisierung:</strong> PowerAutomate, PowerApps, Logic Apps",
          "<strong>Standards:</strong> ISO 27001/27002, NIST, ISO 20000, ITIL v3, LGPD"
        ],
        languagesText:"Brasilianisches Portugiesisch (Muttersprache), Englisch (C1 – fortgeschritten), Deutsch (A1 – Anfänger)."
      }
    };

    /* --------- Render do CV --------- */
    function renderCV(lang){
  const t = ui[lang] || ui.pt;
  const d = cvData[lang] || cvData.pt;

  // Ícones por fornecedor (CDNs estáveis)
  const vendorIcons = {
    "Microsoft":    "https://cdn.jsdelivr.net/gh/simple-icons/simple-icons/icons/microsoft.svg",
    "AWS":          "https://cdn.jsdelivr.net/gh/simple-icons/simple-icons/icons/amazonaws.svg",
    "Google Cloud": "https://cdn.jsdelivr.net/gh/simple-icons/simple-icons/icons/googlecloud.svg",
    "ServiceNow":   "https://cdn.jsdelivr.net/gh/simple-icons/simple-icons/icons/servicenow.svg",
    "ISC²":         "https://upload.wikimedia.org/wikipedia/commons/0/0f/ISC2_logo.svg",
    "FIAP / Academy":"https://www.fiap.com.br/favicon-32x32.png"
  };

  const order = ["Microsoft","AWS","Google Cloud","ServiceNow","ISC²","FIAP / Academy"];

  // Certificações (horizontal com ícone)
  const certHTML = order
    .filter(v => d.certifications[v]?.length)
    .map(v => {
      const items = d.certifications[v].map(c => `<li>${c}</li>`).join("");
      const icon = vendorIcons[v] || "";
      return `
        <div class="cert-vendor">
          ${icon ? `<img src="${icon}" alt="${v} logo" loading="lazy">` : ""}
          <div>
            <h5>${v}</h5>
            <ul class="cert-list">${items}</ul>
          </div>
        </div>
      `;
    }).join("");

  // Experiências (layout refinado)
    const expHTML = d.experiences.map(exp => `
        <article class="cv-item reveal">
        <div class="cv-dot"></div>
        <div class="cv-content">
            <header>
            <div>
                <div class="role">${exp.role}</div>
                <div class="company">${exp.company}</div>
            </div>
            <div class="cv-meta">${exp.period} • ${exp.location}</div>
            </header>
            <ul class="cv-bullets">
            ${exp.bullets.map(b=>`<li>${b}</li>`).join("")}
            </ul>
            <div class="cv-tags">
            ${exp.tags.map(tag=>`<span class="tag">${tag}</span>`).join("")}
            </div>
        </div>
        </article>
    `).join("");

    const skillsHTML = d.skills.map(s => `<li>${s}</li>`).join("");

    document.getElementById("cv").innerHTML = `
        <h2>${t.cv}</h2>

        <div class="cv-header">
        <div>
            <h3 style="margin-bottom:.25rem;">${d.name}</h3>
            <div style="opacity:.85;">
            <a href="mailto:${d.email}">${d.email}</a> •
            <a href="tel:${d.phone.replace(/[^+\d]/g,'')}">${d.phone}</a> •
            ${t.cityLine}
            </div>
        </div>
        <div style="flex:1"></div>
        <a class="btn-download" href="docs/Cassio_Nakagawa_BR-CV-EN-07-2025.pdf" target="_blank" rel="noopener">${t.downloadCV}</a>
        </div>

        <div class="cv-card">
        <h3>${t.professionalSummary}</h3>
        <p>${d.summary}</p>
        </div>

        <h3 style="margin-top:1.25rem">${t.experience}</h3>
        <div class="cv-timeline">${expHTML}</div>

        <div class="cv-grid">
        <div class="cv-card">
            <h3>${t.education}</h3>
            ${d.education.map(e=>`<p>${e}</p>`).join("")}
        </div>

        <div class="cv-card">
            <h3>${t.certifications} (${t.byVendor})</h3>
            <div class="cert-strip">
            ${certHTML || "<p>—</p>"}
            </div>
        </div>

        <div class="cv-card">
            <h3>${t.skills}</h3>
            <ul class="two-cols">
            ${skillsHTML}
            </ul>
        </div>

        <div class="cv-card">
            <h3>${t.languages}</h3>
            <p>${d.languagesText}</p>
        </div>
        </div>
    `;

    // Animação "reveal"
    const items = document.querySelectorAll('#cv .reveal');
    if(!('IntersectionObserver' in window) || !items.length) {
        items.forEach(el=>el.classList.add('revealed'));
    } else {
        const io = new IntersectionObserver((entries)=>{
        entries.forEach(e=>{
            if(e.isIntersecting){ e.target.classList.add('revealed'); io.unobserve(e.target); }
        });
        }, {threshold:.15});
        items.forEach(el=>io.observe(el));
    }
}

    // ... (definição REAL da função renderCV fica acima)
    let currentLang = "pt";
    renderCV(currentLang);

    // Troca de idioma
    function updateLanguage(lang){
    currentLang = lang;
    const t = ui[lang] || ui.pt;
    document.querySelectorAll("nav ul li a").forEach(link=>{
        const sec = link.getAttribute("data-section");
        if(t[sec]) link.textContent = t[sec];
    });
    document.getElementById("about").innerHTML = `<h1>${t.about}</h1><p>${t.aboutContent}</p>`;
    document.getElementById("blog").innerHTML  = `<h2>${t.blog}</h2><p>${t.blogContent}</p>`;
    document.getElementById("projects").innerHTML = `<h2>${t.projects}</h2><p>${t.projectsContent}</p>`;
    document.querySelector("#tools h2").textContent = t.tools;
    document.getElementById("toolContent").textContent = t.toolsContent;
    document.getElementById("contact").innerHTML = `<h2>${t.contact}</h2><p>${t.contactText}</p>`;
    renderCV(lang);
    }
    document.querySelectorAll(".language-switcher img").forEach(btn=>{
    btn.addEventListener("click",()=> updateLanguage(btn.getAttribute("data-lang")));
    });


    /* --------- Ferramentas --------- */
    const toolContent = document.getElementById("toolContent");
    document.querySelectorAll(".tool-option").forEach(opt=>{
      opt.addEventListener("click", ()=>{
        const tool = opt.getAttribute("data-tool");
        toolContent.innerHTML = ""; // reset

        if(tool === "hashGenerator"){
          toolContent.innerHTML = `
            <h3>Hash Generator</h3>
            <div class="row">
              <select id="hashAlgo">
                <option value="SHA256">SHA-256</option>
                <option value="SHA512">SHA-512</option>
                <option value="SHA1">SHA-1</option>
                <option value="MD5">MD5</option>
              </select>
              <button id="hashCopy">Copiar</button>
            </div>
            <textarea id="hashInput" placeholder="Digite o texto a ser hasheado"></textarea>
            <div id="hashOutput" class="hint">Hash: —</div>
            <button id="generateHash">Gerar Hash</button>`;
          const algoSel = document.getElementById("hashAlgo");
          document.getElementById("generateHash").addEventListener("click", ()=>{
            const text = (document.getElementById("hashInput").value ?? "");
            const algo = algoSel.value;
            let out = "—";
            if(text.length){
              if(algo==="SHA256") out = CryptoJS.SHA256(text).toString();
              if(algo==="SHA512") out = CryptoJS.SHA512(text).toString();
              if(algo==="SHA1")   out = CryptoJS.SHA1(text).toString();
              if(algo==="MD5")    out = CryptoJS.MD5(text).toString();
            }
            document.getElementById("hashOutput").textContent = "Hash: " + out;
          });
          document.getElementById("hashCopy").addEventListener("click", ()=>{
            const t = document.getElementById("hashOutput").textContent.replace(/^Hash:\s*/,'');
            navigator.clipboard?.writeText(t);
          });
        }

        if(tool === "passwordGenerator"){
          toolContent.innerHTML = `
            <h3>Password Generator</h3>
            <div class="row">
              <label>Tamanho: <input type="number" id="pgLen" value="16" min="6" max="128"/></label>
              <label><input type="checkbox" id="pgUpper" checked/> Maiúsculas</label>
              <label><input type="checkbox" id="pgLower" checked/> Minúsculas</label>
              <label><input type="checkbox" id="pgDigits" checked/> Dígitos</label>
              <label><input type="checkbox" id="pgSymbols" checked/> Símbolos</label>
            </div>
            <input id="pgOut" readonly placeholder="Sua senha aparecerá aqui"/>
            <div class="row">
              <button id="pgGen">Gerar</button>
              <button id="pgCopy">Copiar</button>
            </div>
            <div class="hint">Dica: combine todos os conjuntos para máxima entropia.</div>`;
          function makePwd(len, sets){
            const map = {
              upper:"ABCDEFGHIJKLMNOPQRSTUVWXYZ",
              lower:"abcdefghijklmnopqrstuvwxyz",
              digits:"0123456789",
              symbols:"!@#$%^&*()-_=+[]{};:,.<>/?|~"
            };
            let pool = "";
            if(sets.upper) pool += map.upper;
            if(sets.lower) pool += map.lower;
            if(sets.digits) pool += map.digits;
            if(sets.symbols) pool += map.symbols;
            if(!pool) return "";
            let out = "";
            const req = [];
            if(sets.upper) req.push(map.upper);
            if(sets.lower) req.push(map.lower);
            if(sets.digits) req.push(map.digits);
            if(sets.symbols) req.push(map.symbols);
            req.forEach(set=>{ out += set[Math.floor(Math.random()*set.length)]; });
            for(let i=out.length;i<len;i++){
              out += pool[Math.floor(Math.random()*pool.length)];
            }
            out = out.split('').sort(()=>Math.random()-0.5).join('');
            return out;
          }
          document.getElementById("pgGen").addEventListener("click", ()=>{
            const len = Math.max(6, Math.min(128, +document.getElementById("pgLen").value || 16));
            const sets = {
              upper: document.getElementById("pgUpper").checked,
              lower: document.getElementById("pgLower").checked,
              digits: document.getElementById("pgDigits").checked,
              symbols: document.getElementById("pgSymbols").checked
            };
            document.getElementById("pgOut").value = makePwd(len, sets);
          });
          document.getElementById("pgCopy").addEventListener("click", ()=>{
            const v = document.getElementById("pgOut").value;
            v && navigator.clipboard?.writeText(v);
          });
        }

        if(tool === "passwordStrengthChecker"){
          toolContent.innerHTML = `
            <h3>Password Strength Checker</h3>
            <input id="pscIn" type="password" placeholder="Digite uma senha para avaliar"/>
            <div class="meter"><span id="pscBar"></span></div>
            <div id="pscMsg" class="hint">Digite para ver a força.</div>`;
          const bar = document.getElementById("pscBar");
          const msg = document.getElementById("pscMsg");
          function scorePwd(p){
            let s=0;
            if(p.length>=8) s+=15;
            if(p.length>=12) s+=15;
            if(/[A-Z]/.test(p)) s+=15;
            if(/[a-z]/.test(p)) s+=15;
            if(/[0-9]/.test(p)) s+=15;
            if(/[^A-Za-z0-9]/.test(p)) s+=15;
            if(!/(.)\1{2,}/.test(p)) s+=10;
            return Math.min(100,s);
          }
          document.getElementById("pscIn").addEventListener("input",(e)=>{
            const p = e.target.value;
            const s = scorePwd(p);
            bar.style.width = s + "%";
            bar.style.background = s<40 ? "#f44336" : s<70 ? "#ffc107" : "#4caf50";
            msg.textContent = s<40 ? "Fraca — aumente o tamanho e misture tipos." :
                              s<70 ? "Média — adicione símbolos e mais comprimento." :
                                     "Forte — boa combinação!";
          });
        }

        if(tool === "doubleClickTester"){
          toolContent.innerHTML = `
            <h3>Keyboard Double Click Tester</h3>
            <div class="row">
              <button id="dctBtn">Clique duplo aqui</button>
              <input id="dctKey" placeholder="Pressione duas vezes a mesma tecla"/>
            </div>
            <div class="hint" id="dctOut">Tempo entre cliques/teclas: — ms</div>`;
          const out = document.getElementById("dctOut");
          let lastClick=0;
          document.getElementById("dctBtn").addEventListener("click", ()=>{
            const now = performance.now();
            if(lastClick>0){
              out.textContent = "Tempo entre cliques: " + (now-lastClick).toFixed(1) + " ms";
              lastClick = 0;
            }else{
              lastClick = now;
            }
          });
          let lastKey = {key:null,time:0};
          document.getElementById("dctKey").addEventListener("keydown",(e)=>{
            const now = performance.now();
            if(lastKey.key === e.key && lastKey.time>0){
              out.textContent = `Tempo entre "${e.key}" duplo: ` + (now-lastKey.time).toFixed(1) + " ms";
              lastKey = {key:null,time:0};
            }else{
              lastKey = {key:e.key,time:now};
            }
          });
        }

        if(tool === "steganographyTool"){
          toolContent.innerHTML = `
            <h3>Steganography Tool</h3>
            <input type="file" id="imageUpload" accept="image/*">
            <textarea id="messageInput" placeholder="Digite a mensagem secreta"></textarea>
            <div class="row">
              <button id="hideMessage">Esconder Mensagem</button>
              <button id="downloadImage">Baixar Imagem</button>
            </div>
            <canvas id="stegCanvas" style="margin:20px auto;display:block;max-width:100%;"></canvas>
            <h4>Extrair</h4>
            <div class="row">
              <button id="extractMessage">Extrair Mensagem</button>
            </div>
            <p id="extractedMessage"></p>
            <div class="hint">Obs.: método simples de esteganografia (LSB no canal R) — use apenas para fins didáticos.</div>`;
          const up = document.getElementById("imageUpload");
          const msgIn = document.getElementById("messageInput");
          const hideBtn = document.getElementById("hideMessage");
          const dlBtn = document.getElementById("downloadImage");
          const exBtn = document.getElementById("extractMessage");
          const out = document.getElementById("extractedMessage");
          const canvas = document.getElementById("stegCanvas");
          const ctx = canvas.getContext("2d");
          let image = new Image();
          const DELIM = "\u0000\u0000\u0001END\u0001\u0000\u0000";

          function toBinary(str){
            const encoder = new TextEncoder();
            const bytes = encoder.encode(str + DELIM);
            return Array.from(bytes).map(b=>b.toString(2).padStart(8,"0")).join("");
          }
          function fromBinary(bits){
            const bytes = bits.match(/.{1,8}/g)||[];
            const arr = Uint8Array.from(bytes.map(b=>parseInt(b,2)));
            const decoder = new TextDecoder();
            const s = decoder.decode(arr);
            const idx = s.indexOf(DELIM);
            return idx>=0 ? s.slice(0,idx) : s;
          }

          up.addEventListener("change",(ev)=>{
            const file = ev.target.files?.[0];
            if(!file) return;
            const reader = new FileReader();
            reader.onload = e=>{ image.src = e.target.result };
            reader.readAsDataURL(file);
          });
          image.onload = ()=>{
            canvas.width=image.width; canvas.height=image.height;
            ctx.drawImage(image,0,0);
          };

          hideBtn.addEventListener("click", ()=>{
            const msg = msgIn.value || "";
            if(!msg || !canvas.width){ alert("Envie uma imagem e digite uma mensagem."); return; }
            const imgData = ctx.getImageData(0,0,canvas.width,canvas.height);
            const pixels = imgData.data;
            const bits = toBinary(msg);
            if(bits.length > (pixels.length/4)){
              alert("Mensagem muito grande para esta imagem.");
              return;
            }
            for(let i=0;i<bits.length;i++){
              const bit = +bits[i];
              pixels[i*4] = (pixels[i*4] & ~1) | bit; // LSB do canal R
            }
            ctx.putImageData(imgData,0,0);
            alert("Mensagem escondida!");
          });

          exBtn.addEventListener("click", ()=>{
            if(!canvas.width){ alert("Envie uma imagem primeiro."); return; }
            const imgData = ctx.getImageData(0,0,canvas.width,canvas.height);
            const pixels = imgData.data;
            let bits = "";
            const max = pixels.length/4;
            for(let i=0;i<max;i++){ bits += (pixels[i*4] & 1); }
            const msg = fromBinary(bits);
            out.textContent = "Mensagem: " + (msg || "(vazia)");
          });

          dlBtn.addEventListener("click", ()=>{
            if(!canvas.width){ alert("Nada para salvar."); return; }
            const a=document.createElement("a");
            a.download="image-with-message.png";
            a.href=canvas.toDataURL("image/png");
            a.click();
          });
        }

        /* ========== NOVO: Base64 Encode / Decode ========== */
        if(tool === "base64Tool"){
          toolContent.innerHTML = `
            <h3>Base64 Encode / Decode</h3>
            <textarea id="b64Input" placeholder="Digite ou cole o texto/Base64 aqui..."></textarea>
            <div class="row">
              <button id="b64Encode">Codificar ➡️</button>
              <button id="b64Decode">⬅️ Decodificar</button>
              <button id="b64Clear">🗑️ Limpar</button>
              <button id="b64Copy">📋 Copiar Resultado</button>
            </div>
            <textarea id="b64Output" placeholder="Resultado aparecerá aqui..." readonly></textarea>
            <div class="hint">Compatível com UTF-8. Use “Codificar” para gerar Base64 e “Decodificar” para reverter.</div>
          `;
          const enc = new TextEncoder();
          const dec = new TextDecoder();

          function toBase64Utf8(str){
            const bytes = enc.encode(str);
            // converte Uint8Array para string binária e btoa
            let binary = "";
            bytes.forEach(b => binary += String.fromCharCode(b));
            return btoa(binary);
          }
          function fromBase64Utf8(b64){
            const binary = atob(b64);
            const bytes = Uint8Array.from(binary, ch => ch.charCodeAt(0));
            return dec.decode(bytes);
          }

          const input = document.getElementById("b64Input");
          const output = document.getElementById("b64Output");

          document.getElementById("b64Encode").addEventListener("click", ()=>{
            try{
              output.value = toBase64Utf8(input.value || "");
            }catch(e){
              alert("Erro ao codificar. Verifique o texto.");
            }
          });
          document.getElementById("b64Decode").addEventListener("click", ()=>{
            try{
              output.value = fromBase64Utf8(input.value || "");
            }catch(e){
              alert("Erro ao decodificar. Verifique se o conteúdo é Base64 válido.");
            }
          });
          document.getElementById("b64Clear").addEventListener("click", ()=>{
            input.value = ""; output.value = "";
          });
          document.getElementById("b64Copy").addEventListener("click", ()=>{
            output.value && navigator.clipboard?.writeText(output.value);
          });
        }
        /* ========== FIM Base64 ========== */

      });
    });


  });
  </script>
</body>
</html>
